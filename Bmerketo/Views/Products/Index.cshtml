@model ProductIndexViewModel

@{
    ViewData["Title"] = "Products";
}

<partial name="/Views/Partials/_AddNewProduct.cshtml" />

<section class="all-products">
    <div class="container">
        <h1 class="_collection-title">ALL PRODUCTS</h1>

        <div class="tag-button">
            <a href="@Url.Action("Index", "Products", new { tag = "" })" class="btn">Show All</a>
            <a href="@Url.Action("Index", "Products", new { tag = "new" })" class="btn">New</a>
            <a href="@Url.Action("Index", "Products", new { tag = "featured" })" class="btn">Featured</a>
            <a href="@Url.Action("Index", "Products", new { tag = "popular" })" class="btn">Popular</a>
        </div>

        <div class="_collection-grid">

            <div class="collection-item">
                @foreach (var product in Model.Products)
                {
                    <a asp-controller="products" asp-action="details" asp-route-id="@product.ArticleNumber" class="collection-item">
                        <div class="card mb-3">
                            <div class="card-body">
                                <div class="justify-content-center align-items-center">
                                    <img class="product-img" src="~/Images/products/@product.ImageUrl" alt="@product.ProductName" />
                                    <div>@product.ArticleNumber</div>
                                    <div>@product.ProductName</div>
                                    <div>$@product.Price.ToString("0.##")</div>
                                    <span class="product-tags">
                                        @foreach (var tag in product.Tags)
                                        {
                                            <span class="product-tag">@tag.Tag.TagName</span>
                                        }
                                    </span>
                                    <i class="add-cart fa-regular fa-cart-plus"></i>
                                </div>
                            </div>
                        </div>
                    </a>
                }
            </div>

        </div>
    </div>
</section>

